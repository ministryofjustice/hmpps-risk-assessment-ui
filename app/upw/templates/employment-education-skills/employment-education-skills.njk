{% extends "common/templates/layout.njk" %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "common/templates/components/question/macro.njk" import renderQuestion %}
{% from "common/templates/components/question/template.njk" import getQuestionText %}
{% from "common/templates/components/question/template.njk" import getQuestionAnswer %}
{%- from "node_modules/govuk-frontend/govuk/components/summary-list/macro.njk" import govukSummaryList -%}
{% set backLink = 'task-list' %}

{% block pageTitle %}
{{ pageTitle }}
{% endblock %}

{% block header %}
{% include "common/templates/partials/header.njk" %}
{% endblock %}

{% block content %}
{# include errorSummary partial #}
{{ super() }}

<span class="govuk-caption-xl">Employment, education and skills information</span>
<h1 class="govuk-heading-xl">
    {{ pageTitle }}
</h1>
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <form method="post" action="{{ action }}">
            <input type="hidden" name="x-csrf-token" value="{{ csrfToken }}">

            <h2 class="govuk-heading-m">Employment or education details</h2>
            {{ govukSummaryList({
                classes: 'upw-summary-list--top-border upw-summary-list--bottom-margin',
                rows: [
                    {
                        key: {
                        text: getQuestionText(questions['upw_reading_writing_difficulties'])
                    },
                        value: {
                        html: getQuestionAnswer(questions['upw_reading_writing_difficulties'])
                    }
                    },
                    {
                        key: {
                        text: getQuestionText(questions['upw_reading_writing_difficulties_details'])
                    },
                        value: {
                        html: getQuestionAnswer(questions['upw_reading_writing_difficulties_details'])
                    }
                    }
                ]
            }) }}

            <h2 class="govuk-heading-m">Literacy and numeracy</h2>
            {{ govukSummaryList({
                classes: 'upw-summary-list--top-border upw-summary-list--bottom-margin',
                rows: [
                    {
                        key: {
                        text: getQuestionText(questions['upw_reading_writing_difficulties'])
                    },
                        value: {
                        html: getQuestionAnswer(questions['upw_reading_writing_difficulties'])
                    }
                    },
                    {
                        key: {
                        text: getQuestionText(questions['upw_reading_writing_difficulties_details'])
                    },
                        value: {
                        html: getQuestionAnswer(questions['upw_reading_writing_difficulties_details'])
                    }
                    }
                ]
            }) }}

            {{ renderQuestion(questions['upw_work_skills'], errors) }}
            {{ renderQuestion(questions['upw_future_work_plans'], errors) }}

            <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible upw-complete-break">
            {{ renderQuestion(questions['section-complete-employment-education-and-skills'], errors) }}

            <div class="questiongroup-action-buttons">
                {{ govukButton({
                    text: buttonText | default('Save and continue'),
                    classes: 'govuk-!-margin-bottom-3 govuk-!-margin-right-1'
                }) }}
            </div>
        </form>

    </div>
</div>
{% endblock %}
